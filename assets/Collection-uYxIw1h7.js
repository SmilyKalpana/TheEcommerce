import{c as S,r,S as k,j as t}from"./index-C2Us-NH3.js";import{T as L,P as F}from"./ProductItem-CU7DUwEu.js";/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m12 16 4-4-4-4",key:"1i9zcv"}],["path",{d:"M8 12h8",key:"1wcyev"}]],E=S("circle-arrow-right",T),H=(a,c)=>{const[i,l]=r.useState(a);return r.useEffect(()=>{const u=setTimeout(()=>{l(a)},c);return()=>{clearTimeout(u)}},[a,c]),i},R=()=>{const{products:a,search:c,showSearch:i}=r.useContext(k),[l,u]=r.useState(!1),[g,p]=r.useState([]),[n,x]=r.useState([]),[d,m]=r.useState([]),[f,v]=r.useState("relavent"),h=H(c,500),y=e=>{n.includes(e.target.value)?x(s=>s.filter(o=>o!==e.target.value)):x(s=>[...s,e.target.value])},j=e=>{d.includes(e.target.value)?m(s=>s.filter(o=>o!==e.target.value)):m(s=>[...s,e.target.value])},b=()=>{if(!a||a.length===0)return;let e=[...a];i&&h&&(e=e.filter(s=>s.name.toLowerCase().includes(h.toLowerCase()))),n.length>0&&(e=e.filter(s=>n.includes(s.category))),d.length>0&&(e=e.filter(s=>d.includes(s.subCategory))),p(e)},w=[...new Set(a.map(e=>e.category))],C=[...new Set(a.map(e=>e.subCategory))],N=()=>{let e=[...g];switch(f){case"Low-High":p(e.sort((s,o)=>s.price-o.price));break;case"High-Low":p(e.sort((s,o)=>o.price-s.price));break;default:b();break}};return r.useEffect(()=>{b()},[n,d,h,i]),r.useEffect(()=>{N()},[f]),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-1 sm:gap-10 pt-10 border-t",children:[t.jsxs("div",{className:"min-w-60",children:[t.jsxs("p",{onClick:()=>u(!l),className:"my-2 text-xl flex items-center cursor-pointer gap-2",children:["FILTERS",t.jsx(E,{className:`h-5 sm:hidden ${l?"rotate-90":""}`})]}),t.jsxs("div",{className:`px-4 py-4 ${l?"":"hidden"} sm:block`,children:[t.jsx("p",{className:"uppercase",children:"Categories"}),w.map((e,s)=>t.jsx("div",{className:"flex flex-col gap-1 pt-4",children:t.jsxs("label",{className:"flex items-center hover:text-lg text-base cursor-pointer hover:rounded hover:border-gray-400 hover:bg-gray-100 gap-3",children:[t.jsx("input",{className:"w-3",type:"checkbox",value:e,onChange:y,"aria-label":`Filter by category: ${e}`}),e]})},s))]}),t.jsxs("div",{className:` text-base px-4 py-4 mt-4 ${l?" ":"hidden"} sm:block`,children:[t.jsx("p",{className:"uppercase",children:"SubCatergories"}),C.map((e,s)=>t.jsx("div",{className:"flex flex-col gap-1 pt-4",children:t.jsxs("label",{className:"flex hover:text-lg text-base cursor-pointer hover:border-rounded  hover:border-gray-400 hover:bg-gray-100 gap-3",children:[t.jsx("input",{className:"w-3",type:"checkbox",value:e,onChange:j,"aria-label":`Filter by subcategory: ${e}`}),e]})},s))]})]}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex justify-between flex-col sm:flex-row",children:[t.jsx(L,{text1:"All",text2:"Collections"}),t.jsxs("select",{onChange:e=>v(e.target.value),className:"capitalize border-none ",children:[t.jsx("option",{value:"relavent",children:"Relavent"}),t.jsx("option",{value:"Low-High",children:"Low to High"}),t.jsx("option",{value:"High-Low",children:"High to Low"})]})]}),t.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-3 lg:grid-cols-4 hover:text-lg text-base cursor-pointer gap-3 gap-y-5",children:g.length>0?g.map((e,s)=>t.jsx(F,{name:e.name,id:e._id,price:e.price,image:e.image},s)):t.jsx("p",{children:"No products found"})})]})]})};export{R as default};
